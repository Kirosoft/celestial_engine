{
  "$id": "nodes/MCPTool.schema.json",
  "title": "MCPTool",
  "type": "object",
  "description": "Explicitly invoke an MCP tool from a connected server",
  "properties": {
    "id": { "type": "string" },
    "type": { "const": "MCPTool" },
    "name": { "type": "string" },
    "position": {
      "type": "object",
      "properties": {
        "x": { "type": "number" },
        "y": { "type": "number" }
      },
      "required": ["x", "y"],
      "additionalProperties": false
    },
    "props": {
      "type": "object",
      "properties": {
        "serverId": {
          "type": "string",
          "description": "MCP server ID (e.g., 'filesystem', 'git')",
          "default": ""
        },
        "toolName": {
          "type": "string",
          "description": "Tool to invoke (e.g., 'read_file', 'list_directory')",
          "default": ""
        },
        "parameters": {
          "type": "object",
          "description": "Tool parameters (key-value pairs)",
          "additionalProperties": true,
          "default": {}
        },
        "streaming": {
          "type": "boolean",
          "default": false,
          "description": "Stream results incrementally (future feature)"
        },
        "timeout": {
          "type": "number",
          "default": 30000,
          "description": "Timeout in milliseconds",
          "minimum": 1000,
          "maximum": 300000
        }
      },
      "required": [],
      "additionalProperties": false
    },
    "edges": { "type": "object" }
  },
  "required": ["id", "type", "name", "props"],
  "additionalProperties": true
}
